---
title: Artisan Worker
sidebar_label: Artisan Worker
sidebar_position: 4
---

# Artisan Worker

–í–∏–∫–æ–Ω—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏ Laravel Artisan —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å sTask –∑ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è–º –ø—Ä–æ–≥—Ä–µ—Å—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —Ç–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–º UI.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–Ω—è –±—É–¥—å-—è–∫–æ—ó Artisan –∫–æ–º–∞–Ω–¥–∏ –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- ‚úÖ –í–∏–≤—ñ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –∑ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É
- ‚úÖ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ - –∫–ª—ñ–∫ –¥–ª—è –∑–∞–ø—É—Å–∫—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è
- ‚úÖ –ê—É–¥–∏—Ç –ª–æ–≥—É–≤–∞–Ω–Ω—è
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ë–∞–∑–æ–≤–µ

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **sTask** ‚Üí **–ü–∞–Ω–µ–ª—å**
2. –ó–Ω–∞–π–¥—ñ—Ç—å –≤—ñ–¥–∂–µ—Ç **Artisan**
3. –í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `cache:clear`) –∞–±–æ –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è —Å–ø–∏—Å–∫—É
4. –ó–∞ –±–∞–∂–∞–Ω–Ω—è–º –¥–æ–¥–∞–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∏
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è**

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º

–í–∏–∫–æ–Ω–∞–π—Ç–µ –±–µ–∑ –∫–æ–º–∞–Ω–¥–∏ —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –±—É–¥—å-—è–∫—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –º–∏—Ç—Ç—î–≤–æ–≥–æ –∑–∞–ø—É—Å–∫—É.

## –ë–µ–∑–ø–µ–∫–∞

–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ `config/artisan_security.php`:

```php
return [
    // –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ –≤ production
    'dangerous_commands' => [
        'migrate:fresh',
        'migrate:reset',
        'db:wipe',
    ],
    
    // –í–∏–º–∞–≥–∞—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
    'confirmation_required' => [
        'migrate',
        'db:seed',
    ],
    
    // Whitelist (—è–∫—â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –ª–∏—à–µ —Ü—ñ)
    'whitelist' => [],
    
    // Blacklist (–∑–∞–≤–∂–¥–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ)
    'blacklist' => [],
    
    // –£–≤—ñ–º–∫–Ω—É—Ç–∏ –±–µ–∑–ø–µ–∫—É
    'enabled' => true,
    
    // –õ–æ–≥—É–≤–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    'log_executions' => true,
];
```

### –†—ñ–≤–Ω—ñ –±–µ–∑–ø–µ–∫–∏

1. **–ù–µ–±–µ–∑–ø–µ—á–Ω—ñ –∫–æ–º–∞–Ω–¥–∏** - –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –≤ production
2. **–í–∏–º–∞–≥–∞—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è** - –õ–æ–≥—É—é—Ç—å –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
3. **Whitelist/Blacklist** - –ì–Ω—É—á–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑ wildcards
4. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —ñ–Ω'—î–∫—Ü—ñ–π** - –ë–ª–æ–∫—É—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏
5. **–ê—É–¥–∏—Ç –ª–æ–≥—É–≤–∞–Ω–Ω—è** - –í—Å—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–æ–≥—É—é—Ç—å—Å—è

### –ü—Ä–∏–∫–ª–∞–¥–∏

**–î–æ–∑–≤–æ–ª–∏—Ç–∏ –ª–∏—à–µ cache –∫–æ–º–∞–Ω–¥–∏:**
```php
'whitelist' => [
    'cache:*',
    'view:clear',
],
```

**–ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –∫–æ–º–∞–Ω–¥—É:**
```php
'blacklist' => [
    'key:generate',
    'down',
],
```

## UI

### –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç–∏–ª—ñ –∫–æ–Ω—Å–æ–ª—ñ

- VS Code Dark+ —Ç–µ–º–∞
- –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–∏–π —à—Ä–∏—Ñ—Ç
- –ö–æ–ª—å–æ—Ä–æ–≤–∏–π –≤–∏–≤—ñ–¥:
  - üîµ –°–∏–Ω—ñ–π: –Ü–Ω—Ñ–æ
  - üü¢ –ó–µ–ª–µ–Ω–∏–π: –£—Å–ø—ñ—Ö —ñ –∫–æ–º–∞–Ω–¥–∏
  - üü° –ñ–æ–≤—Ç–∏–π: –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
  - üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π: –ü–æ–º–∏–ª–∫–∏
  - ‚ö™ –°—ñ—Ä–∏–π: –û–ø–∏—Å–∏

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

- –ù–∞–≤–µ–¥–µ–Ω–Ω—è –¥–ª—è –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
- –ö–ª—ñ–∫ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- –ú–∏—Ç—Ç—î–≤–∏–π –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–°–∫–æ–ø—ñ—é–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

```bash
cp packages/sTask/config/artisan_security.php core/custom/config/artisan_security.php
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `core/custom/config/artisan_security.php` –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏.

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

```php
use Seiger\sTask\Workers\ArtisanWorker;

$worker = new ArtisanWorker();
$task = $worker->createTask('run', [
    'command' => 'cache:clear',
    'arguments' => '--tags=views',
]);
```

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ whitelist –≤ production
2. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –ª–æ–≥–∏
3. –í–∏–º–∞–≥–∞–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–ª—è –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
4. –°–ø–æ—á–∞—Ç–∫—É —Ç–µ—Å—Ç—É–π—Ç–µ –≤ staging
5. –†–æ–±—ñ—Ç—å –±–µ–∫–∞–ø –ø–µ—Ä–µ–¥ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏

